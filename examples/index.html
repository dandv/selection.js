<!DOCTYPE HTML>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <title>Arale - Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="nico 0.1.0-rc" />
    <link type="image/x-icon" href="../static/css/favicon.ico" rel="icon">
    <link rel="stylesheet" href="../static/css/normalize.css" />
    <link rel="stylesheet" href="../static/css/site.css" />
    <link rel="stylesheet" href="../static/css/solarized.css" />
    <script src="https://a.alipayobjects.com/seajs/1.2.1/sea.js"></script>
    <script src="../static/js/arale-helper.js"></script>
    <script src="../static/js/site.js"></script>
<script>
  (function() {
    var data;
    seajs._package = data = {"root":"lepture","name":"selection","version":"0.9.0","description":"selection manipulating for textarea.","homepage":"http://lab.lepture.com/selection.js/","author":"Hsiaoming Yang <lepture@me.com>","keywords":["selection","textarea","editor"],"main":"./selection.js","repository":{"type":"git","url":"https://github.com/lepture/selection.js.git"},"bugs":{"url":"https://github.com/lepture/selection.js/issues"},"licenses":[{"type":"BSD"}],"output":{"selection.js":"."}}
    data.dependencies && (delete data.dependencies['$'])
    data.devDependencies && (delete data.devDependencies['$'])

    seajs.config({ alias: data.dependencies })
    seajs.config({ alias: data.devDependencies })
    seajs.config({ alias: {"selection":"../src/selection.js"} })
  })();
</script>
    <!--[if lt IE 9]>
    <script src="../static/js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="body-wrapper">
      <aside id="sidebar-wrapper">
        <h1><a href="../">Selection</a><sup class="package-root"><a href="/">lepture</a></sup></h1>
        <p class="version">当前版本：<span>0.9.0</span></p>
        <p class="description">selection manipulating for textarea.</p>
        <a class="source" href="https://github.com/lepture/selection.js.git" target="_blank">View the Project</a>
        <ul id="navigation" role="navigation">
          <li><a href="../">文档</a></li>
          <li><a href="../examples/">演示</a></li>
          <li><a href="../history.html">历史</a></li>
          <li><a href="https://github.com/lepture/selection.js/issues" target="_blank">讨论</a></li>
        </ul>
        

      </aside>
      <div id="content-wrapper">
        <div id="content">
<article class="hentry">
  <h1 class="entry-title">Example</h1>
  <div class="entry-content">
    <style type="text/css">
#speaker em {
color: #d14;
padding: 1px 4px;
font-style: normal;
background: #f7f7f9;
border: 1px solid #e1e1e8;
}
</style>

<p><textarea id="editor" rows="10" cols="80">Love its people, but never trust its government. Believe in evolution rather than revolution.</textarea></p>

<div id="speaker">
You are selecting <em id="speaker-text"></em>
at <em id="speaker-cursor"></em>,
surrounded by <em id="speaker-surround"></em>
</div>
<h2 id="let-39-s-play-the-game">Let&#39;s play the game</h2>
<div class="nico-insert-code"><a href="javascript:;" id="button-cursor">set cursor</a>
<a href="javascript:;" id="button-text">change text</a>
<a href="javascript:;" id="button-prepend">prepend text</a>
<a href="javascript:;" id="button-append">append text</a>
<a href="javascript:;" id="button-line">current line</a>
</div>
<div class="highlight"><pre><code class="xml"><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"javascript:;"</span> <span class="attribute">id</span>=<span class="value">"button-cursor"</span>&gt;</span>set cursor<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
<span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"javascript:;"</span> <span class="attribute">id</span>=<span class="value">"button-text"</span>&gt;</span>change text<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
<span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"javascript:;"</span> <span class="attribute">id</span>=<span class="value">"button-prepend"</span>&gt;</span>prepend text<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
<span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"javascript:;"</span> <span class="attribute">id</span>=<span class="value">"button-append"</span>&gt;</span>append text<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
<span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"javascript:;"</span> <span class="attribute">id</span>=<span class="value">"button-line"</span>&gt;</span>current line<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
</code></pre></div>
<script>
seajs.use(['$', 'selection'], function($, selection) {
    var sel = selection(document.getElementById('editor'));
    $('#editor').on('click select keyup', function() {
        $('#speaker-text').text(sel.text());
        $('#speaker-cursor').text(sel.cursor());
        $('#speaker-surround').text(sel.surround());
    });

    $('#button-cursor').click(function() {
        sel.cursor(10, 19);
        // equal sel.cursor([10, 19])
    });
    $('#button-text').click(function() {
        sel.text('hello world');
        // sel.text('hello world', 'left')
        // sel.text('hello world', 'right')
    });
    $('#button-prepend').click(function() {
        sel.prepend('hello prepend', 'right');
    });
    $('#button-append').click(function() {
        sel.prepend('hello append', 'left');
    });
    $('#button-line').click(function() {
        alert(sel.line());
    });
});
</script>
<div class="highlight"><pre><code class="javascript">seajs.use([<span class="string">'$'</span>, <span class="string">'lepture/selection/0.9.0/selection'</span>], <span class="keyword">function</span>($, selection) {
    <span class="keyword">var</span> sel = selection(document.getElementById(<span class="string">'editor'</span>));
    $(<span class="string">'#editor'</span>).on(<span class="string">'click select keyup'</span>, <span class="keyword">function</span>() {
        $(<span class="string">'#speaker-text'</span>).text(sel.text());
        $(<span class="string">'#speaker-cursor'</span>).text(sel.cursor());
        $(<span class="string">'#speaker-surround'</span>).text(sel.surround());
    });

    $(<span class="string">'#button-cursor'</span>).click(<span class="keyword">function</span>() {
        sel.cursor(<span class="number">10</span>, <span class="number">19</span>);
        <span class="comment">// equal sel.cursor([10, 19])</span>
    });
    $(<span class="string">'#button-text'</span>).click(<span class="keyword">function</span>() {
        sel.text(<span class="string">'hello world'</span>);
        <span class="comment">// sel.text('hello world', 'left')</span>
        <span class="comment">// sel.text('hello world', 'right')</span>
    });
    $(<span class="string">'#button-prepend'</span>).click(<span class="keyword">function</span>() {
        sel.prepend(<span class="string">'hello prepend'</span>, <span class="string">'right'</span>);
    });
    $(<span class="string">'#button-append'</span>).click(<span class="keyword">function</span>() {
        sel.prepend(<span class="string">'hello append'</span>, <span class="string">'left'</span>);
    });
    $(<span class="string">'#button-line'</span>).click(<span class="keyword">function</span>() {
        alert(sel.line());
    });
});
</code></pre></div>
  </div>
</article>
</div>
      </div>
    </div>
    <div id="footer-wrapper">
      <footer>
      <p class="powered">
        <a href="http://aralejs.org">Arale</a> •
        <a href="http://seajs.org">SeaJS</a> •
        <a href="https://github.com/spmjs/spm">spm</a> •
        <a href="http://lab.lepture.com/nico/">nico</a>
        </p>
      </footer>
    </div>
  </body>
</html>